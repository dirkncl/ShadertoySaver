[{"ver":"0.1","info":{"id":"XdSGzW","date":"1384102128","viewed":269,"name":"Color And Music","username":"Crafter","description":"\u00d0\u00a6\u00d0\u00b2\u00d0\u00b5\u00d1\u201a\u00d0\u00bd\u00d0\u00be\u00d0\u00b9 \u00d1\u02c6\u00d0\u00b5\u00d0\u00b9\u00d0\u00b4\u00d0\u00b5\u00d1\u20ac \u00d0\u00bf\u00d0\u00be\u00d0\u00b4 \u00d0\u00bc\u00d1\u0192\u00d0\u00b7\u00d1\u2039\u00d0\u00ba\u00d1\u0192.\nColor shader with music.","likes":6,"published":1,"flags":8,"tags":[]},"renderpass":[{"inputs":[{"id":"4sXGzn","filepath":".\/media\/a\/a6a1cf7a09adfed8c362492c88c30d74fb3d2f4f7ba180ba34b98556660fada1.mp3","previewfilepath":".\/media\/ap\/a6a1cf7a09adfed8c362492c88c30d74fb3d2f4f7ba180ba34b98556660fada1.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"vec3 light = vec3(0.0);\n\nvoid addLight(vec2 pos, vec3 lightColor, float radius, float glow, vec2 fragCoord)\n{\n\tvec3 color;\n\tfloat distance = length(fragCoord.xy-pos.xy);\n\tif(distance < radius-glow)color = max(distance\/radius, 1.0)*lightColor;\n\telse color = (glow\/abs(distance-radius))*lightColor;\n\tlight = max(light, color);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 pos = vec2(sin(iTime)*min(iResolution.x, iResolution.y)\/2.0+iResolution.x\/2.0, cos(iTime)*min(iResolution.x, iResolution.y)\/2.0+iResolution.y\/2.0);\n\taddLight(pos, vec3(1.0, 0.0, 0.0), 100.0, 1.0, fragCoord);\n\taddLight(pos, vec3(0.0, 1.0, 0.0), 100.0, 10.0, fragCoord);\n\taddLight(pos, vec3(0.0, 0.0, 1.0), 100.0, 100.0, fragCoord);\n \tvec4 tex1 = texture(iChannel0, vec2(fragCoord.x\/iResolution.x, \n\t\t\t\t\t\t\t\t\t\t  fragCoord.y\/iResolution.y));\n \tvec3 outColor = \n\t\tlight.rgb*tex1.rgb;\n \tfragColor = vec4(outColor ,1.0);\n}","name":"","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"vec2 mainSound(float time)\n{\n    return vec2(0.0);\n}","name":"","description":"","type":"sound"}]}]